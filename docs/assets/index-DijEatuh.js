(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))g(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&g(m)}).observe(document,{childList:!0,subtree:!0});function v(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function g(e){if(e.ep)return;e.ep=!0;const o=v(e);fetch(e.href,o)}})();const I=document.getElementById("dropper"),w=document.getElementById("header-color"),u=document.getElementById("file"),s=document.getElementById("canvas"),y=s.getContext("2d",{willReadFrequently:!0}),i=document.getElementById("zoom"),x=document.getElementById("zoom-color"),h=160;let a=!1,l=!1,c=!1,f=0,p=0,r=new Image;const d=()=>{if(l?document.documentElement.classList.add("dropping"):document.documentElement.classList.remove("dropping"),a&&l&&c){i.style.display="flex",i.style.top=`${p-h/2}px`,i.style.left=`${f-h/2}px`;const t=L();x.innerHTML=t,i.style.setProperty("--color",t)}else i.style.display="none"},L=()=>{const t=y.getImageData(f*(r.width/s.clientWidth),p*(r.height/s.clientHeight),1,1);return"#"+Array.from(t.data.slice(0,3)).map(n=>n.toString(16).padStart(2,"0")).join("")};I.addEventListener("click",()=>{l=!l,d()});s.addEventListener("mousemove",t=>{c=!0,f=t.offsetX,p=t.offsetY,d()});s.addEventListener("mouseout",()=>{c=!1,d()});s.addEventListener("click",()=>{a&&l&&c&&(w.innerHTML=L())});const E=t=>{r=new Image,r.addEventListener("error",()=>{alert("Image load error")}),r.addEventListener("load",()=>{s.width=r.width,s.height=r.height,s.style.aspectRatio=String(r.width/r.height),y.drawImage(r,0,0),a=!0,d()}),r.src=t};u.addEventListener("change",()=>{var t;if(((t=u.files)==null?void 0:t.length)===1){a=!1,d();const n=new FileReader;n.addEventListener("error",()=>{alert("failed to read file")}),n.addEventListener("load",()=>{E(n.result)}),n.readAsDataURL(u.files[0])}});E("/1920x1080-4598441-beach-water-pier-tropical-sky-sea-clouds-island-palm-trees.jpg");
